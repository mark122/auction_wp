import{a as O,r as m,d as F,i as I,o as _,c as v,w as t,b as U,t as P,u as i,e as T,f as o,C as V,g as J,I as W,p as Q,h as Z,j as g,_ as ee,k as te,l as ae,T as oe,m as N,n as D,q as ne,s as se,v as le,x as ce,y as ie,z as ue,A as re,B as Y,D as q,E as K,F as de,S as j,G as M,H as pe,J as _e,K as me,L as ve,M as ge,N as fe,O as w,P as ye,Q as he,R as De,U as ke}from"./vendor.a292ac86.js";var x=(e,a)=>O.create({baseURL:a+"mt-activator/",timeout:1e8,headers:{"X-WP-Nonce":e}}),be=(e,a)=>{const n=m(),l=m(!0),c=()=>{x(e,a).get("getSystemData").then(({data:d})=>{n.value=d,l.value=!1})};return c(),{configurationDataSource:n,configurationDataSourceIsLoading:l,loadConfigurationData:c,configurationColumns:[{title:"Config Name",dataIndex:"title",key:"title"},{title:"Current",dataIndex:"value",key:"value",align:"center"},{title:"Recommended",dataIndex:"required",key:"required",align:"center"},{title:"Passed",dataIndex:"pass",key:"pass",slots:{customRender:"pass"},align:"center"}]}};var z=(e,a)=>{const n=e.__vccOpts||e;for(const[l,c]of a)n[l]=c;return n};const G=e=>(Q("data-v-7e1eaa24"),e=e(),Z(),e),Se=G(()=>g("p",null,[D("Here is an overview of your current server configuration info. Learn how to optimize your server for our themes "),g("a",{href:"https://modeltheme.com/how-to-optimize-server-requirements-for-modeltheme-wordpress-themes/"},"here.")],-1)),Ae=G(()=>g("br",null,null,-1)),Ce=F({props:{userData:null,pluginData:null},setup(e){const a=m("1"),n=m(!1),l=I("nonce");I("install");const c=I("apiLocation"),{configurationDataSource:u,configurationDataSourceIsLoading:p,configurationColumns:d}=be(l,c),S=async h=>{try{n.value=!0,await navigator.clipboard.writeText(JSON.stringify(h))}catch{n.value=!1}},y=location.protocol==="https:";return(h,r)=>{const s=ee,f=te,k=ae,L=oe,A=N;return _(),v(A,{title:"Settings Overview"},{extra:t(()=>[y?(_(),U("a",{key:0,onClick:r[0]||(r[0]=b=>S([i(u),e.pluginData])),href:"#"},P(n.value?"Copied":"Copy"),1)):T("",!0)]),default:t(()=>[o(L,{activeKey:a.value,"onUpdate:activeKey":r[1]||(r[1]=b=>a.value=b)},{default:t(()=>[o(k,{key:"1",tab:"Configuration"},{default:t(()=>[Se,Ae,o(f,{x:4,loading:i(p),dataSource:i(u),columns:i(d),pagination:!1},{pass:t(({text:b,record:C})=>[b===!0?(_(),v(i(V),{key:0,style:{color:"#52C41A"}})):(_(),v(s,{key:1,placement:"left",title:C.notice},{default:t(()=>[o(i(J),{style:{color:"#FF4D4F"}})]),_:2},1032,["title"]))]),_:1},8,["loading","dataSource","columns"])]),_:1}),o(k,{key:"2",tab:"Installed Plugins"},{default:t(()=>[o(f,{loading:e.pluginData.pluginDataSourceIsLoading.value,dataSource:e.pluginData.pluginDataSource.value,columns:e.pluginData.pluginColumns},{status:t(({text:b})=>[b===!0?(_(),v(s,{key:0,placement:"top",title:"Installed"},{default:t(()=>[o(i(V),{style:{color:"#52C41A"}})]),_:1})):(_(),v(s,{key:1,placement:"top",title:"Not installed"},{default:t(()=>[o(i(W),{style:{color:"#1890FF"}})]),_:1}))]),_:1},8,["loading","dataSource","columns"])]),_:1}),o(k,{key:"3",tab:"User data"},{default:t(()=>[o(f,{loading:e.userData.userDataSourceIsLoading.value,dataSource:e.userData.userDataSource.value,columns:e.userData.userColumns,pagination:!1},null,8,["loading","dataSource","columns"])]),_:1})]),_:1},8,["activeKey"])]),_:1})}}});var Ie=z(Ce,[["__scopeId","data-v-7e1eaa24"]]);const Le=g("p",null,"Let's keep in touch!",-1),Fe=g("br",null,null,-1),we=["href"],xe=F({setup(e){const a=[{link:"https://modeltheme.ticksy.com/",content:"Get Help"},{link:"https://modeltheme.com/theme-category/wordpress-plugins/",content:"More Plugins"},{link:"https://modeltheme.com/theme-category/wordpress-themes/",content:"More Themes"}];return(n,l)=>{const c=ne,u=se,p=N;return _(),v(p,{title:"Useful Links"},{default:t(()=>[Le,Fe,o(u,{bordered:"","data-source":a},{renderItem:t(({item:d})=>[o(c,null,{default:t(()=>[g("a",{target:"_blank",href:d.link},P(d.content),9,we)]),_:2},1024)]),_:1})]),_:1})}}});var B=O.create({baseURL:"//api.modeltheme.com/activator/",timeout:1e4}),Xe=(e,a)=>{const n=x(e,a),l=m(),c=m(!0),u=()=>{n.get("plugins").then(({data:d})=>{l.value=d,c.value=!1})},p=[{title:"Name",dataIndex:"name",key:"name",width:"150px"},{title:"Installed",dataIndex:"active",key:"active",slots:{customRender:"status"},width:"100px",align:"center"},{title:"Version",dataIndex:"version",key:"version",width:"100px",align:"center"}];return u(),{pluginDataSource:l,pluginDataSourceIsLoading:c,loadPluginData:u,pluginColumns:p}},$e=(e,a)=>{const n=x(e,a),l=m(),c=m(!0),u=()=>{n.get("userContactData").then(({data:d})=>{l.value=d,c.value=!1})};return u(),{userDataSource:l,userDataSourceIsLoading:c,loadUserData:u,userColumns:[{title:"Name",dataIndex:"key",key:"key"},{title:"Value",dataIndex:"value",key:"value"}]}};const Pe=g("p",null," Please input the purchase code you received with the theme in order to activate your copy of the theme. ",-1),Te=D(" I Agree to the "),Re=g("a",{target:"_blank",href:"https://modeltheme.com/terms-conditions/"}," Terms and Condition ",-1),Ue=D(" and "),Ne=g("a",{target:"_blank",href:"https://modeltheme.com/privacy-policy/"}," Privacy Policy ",-1),je=D("Activate"),Be=F({props:{userData:null,pluginData:null},setup(e){const a=e,n=le({code:"",acceptTerms:!1}),l=m(),c=I("nonce"),u=I("tid"),p=I("apiLocation"),d={code:[{validator:(r,s)=>s===!1?Promise.reject("You must enter your purchase code."):Promise.resolve()},{validator:(r,s)=>s.length!==36?Promise.reject("Length should be 36 characters including '-'"):Promise.resolve()},{validator:(r,s)=>/^[0-9A-F]{8}-[0-9A-F]{4}-[1][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(s)||/^[0-9A-F]{8}-[0-9A-F]{4}-[2][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(s)||/^[0-9A-F]{8}-[0-9A-F]{4}-[3][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(s)||/^[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(s)||/^[0-9A-F]{8}-[0-9A-F]{4}-[5][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(s)?Promise.resolve():Promise.reject("Invalid code format")}],acceptTerms:[{type:"boolean",validator:(r,s)=>s===!1?Promise.reject("You must accept our Terms And Conditions in order to activate"):Promise.resolve()}]},S=m(!1),y=m({success:void 0,message:""}),h=()=>{S.value=!0,l.value.validate().then(()=>{B.post("register-key.php",{key:n.code,productId:u,data:{user:a.userData.userDataSource.value,plugins:a.pluginData.pluginDataSource.value}}).then(({data:r})=>{S.value=!1,y.value=r,r.success&&x(c,p).post("save-api",{code:n.code}).then(()=>{setTimeout(()=>location.reload(),1e3)})})})};return(r,s)=>{const f=ce,k=ie,L=ue,A=re,b=Y,C=q,X=K,$=de,H=j,E=N;return _(),v(E,{title:"Registration"},{default:t(()=>[Pe,y.value.success!==void 0?(_(),v(f,{key:0,message:y.value.success?"License activated!":"Invalid license key!",description:y.value.message,type:y.value.success?"success":"error","show-icon":""},null,8,["message","description","type"])):T("",!0),o(H,{spinning:!1},{default:t(()=>[o($,{ref_key:"formRef",ref:l,rules:d,model:i(n)},{default:t(()=>[o(L,{labelCol:{span:24},label:"Purchase Code","has-feedback":"",ref:"codeRef",name:"code"},{default:t(()=>[o(k,{value:i(n).code,"onUpdate:value":s[0]||(s[0]=R=>i(n).code=R),autocomplete:"off",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"},null,8,["value"])]),_:1},512),o(L,{name:"acceptTerms",ref:"acceptTermsRef"},{default:t(()=>[o(A,{checked:i(n).acceptTerms,"onUpdate:checked":s[1]||(s[1]=R=>i(n).acceptTerms=R)},{default:t(()=>[Te,Re,Ue,Ne]),_:1},8,["checked"])]),_:1},512),o(L,null,{default:t(()=>[o(X,null,{default:t(()=>[o(C,{span:"12"},{default:t(()=>[o(b,{type:"primary",loading:S.value,onClick:h},{default:t(()=>[je]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}}),Oe=D("Reload"),Ve=D("Reload"),Ye=g("br",null,null,-1),qe=g("br",null,null,-1),Ke=D(" You cannot use this license with another website anymore, please purchase another license. "),Me=g("br",null,null,-1),ze=D("Remove from this website"),Ge=F({props:{result:null,pluginData:null,userData:null},setup(e){const a=e,n=I("code"),l=I("nonce"),c=I("apiLocation"),u=m(!1),p=m(!1),d=m({success:!1,message:""}),S=()=>{p.value=!0,B.post("remove-website.php",{key:n,data:{plugins:a.pluginData.pluginDataSource.value,user:a.userData.userDataSource.value}}).then(({data:h})=>{h.success?x(l,c).get("remove-api").then(()=>{u.value=!0,p.value=!1}):(u.value=!1,d.value=h,d.value.success=!h.success)})},y=()=>{location.reload()};return(h,r)=>{const s=Y,f=ve,k=ge,L=j;return _(),U("div",null,[o(k,{visible:d.value.success,"onUpdate:visible":r[0]||(r[0]=A=>d.value.success=A),centered:"",footer:null},{default:t(()=>[o(f,{status:"error",title:d.value.message},{extra:t(()=>[o(s,{key:"console",type:"primary",onClick:y},{default:t(()=>[Oe]),_:1})]),_:1},8,["title"])]),_:1},8,["visible"]),o(k,{visible:u.value,"onUpdate:visible":r[1]||(r[1]=A=>u.value=A),centered:"",footer:null},{default:t(()=>[o(f,{status:"success",title:"Successfully deactivated your license for this website!","sub-title":"If you want to reimport a premade demo, please re-activate the theme using your license key"},{extra:t(()=>[o(s,{key:"console",type:"primary",onClick:y},{default:t(()=>[Ve]),_:1})]),_:1})]),_:1},8,["visible"]),o(L,{spinning:p.value},{default:t(()=>{var A,b;return[((A=e.result.payload)==null?void 0:A.licenseStatus)==="not_active"||e.result.payload===void 0?(_(),v(Be,{key:0,userData:e.userData,pluginData:e.pluginData},null,8,["userData","pluginData"])):((b=e.result.payload)==null?void 0:b.licenseStatus)==="active_another_website"?(_(),v(f,{key:1,title:"Your license is active on another website!"},M({icon:t(()=>[o(i(pe),{color:"red"})]),_:2},[e.result.payload!==void 0?{name:"extra",fn:t(()=>{var C;return[g("p",null,[D(" You must disable your license on "+P((C=e.result.payload)==null?void 0:C.website)+" to continue. ",1),Ye])]})}:void 0]),1024)):(_(),v(f,{key:2,title:"Great, your license is active!"},M({icon:t(()=>[o(i(me))]),_:2},[e.result.payload!==void 0?{name:"extra",fn:t(()=>{var C,X,$;return[g("p",null,[D(" Your license's support is active until "+P(new Date((C=e.result.payload)==null?void 0:C.supportedUntil).toLocaleDateString("en-US"))+". ",1),qe,((X=e.result.payload)==null?void 0:X.triesLeft)==0?(_(),U(_e,{key:0},[Ke],64)):T("",!0)]),Me,o(s,{type:"primary",onClick:S,disabled:(($=e.result.payload)==null?void 0:$.triesLeft)==0},{default:t(()=>[ze]),_:1},8,["disabled"])]})}:void 0]),1024))]}),_:1},8,["spinning"])])}}});const He=D("Not Active"),Ee=D("Active"),Je=F({props:{nonce:null,install:null,code:null,tid:null,apiLocation:null},setup(e){const a=e,n=$e(a.nonce,a.apiLocation),l=Xe(a.nonce,a.apiLocation),c=m({success:!0,message:void 0,payload:{licenseStatus:"not_active",website:location.href,triesLeft:5,supportedUntil:"",licenseType:"",name:""}}),u=m([n.userDataSourceIsLoading,l.pluginDataSourceIsLoading]);return fe(()=>u.value,()=>{u.value.every(p=>p.value===!1)&&(a.code!==""||a.code!==void 0)&&a.code!==""&&B.post("license-status.php",{key:a.code,data:{user:n.userDataSource.value,plugins:l.pluginDataSource.value}}).then(({data:p})=>{c.value=p})},{deep:!0}),w("nonce",a.nonce),w("install",a.install),w("apiLocation",a.apiLocation),w("tid",a.tid),w("code",a.code),(p,d)=>{const S=ye,y=he,h=q,r=De,s=K,f=j;return _(),v(f,{spinning:i(n).userDataSourceIsLoading.value&&i(l).pluginDataSourceIsLoading.value,tip:"Loading license status..."},{default:t(()=>[o(y,{title:"Welcome to Licenses Manager",class:"site-page-header"},{tags:t(()=>{var k;return[((k=c.value.payload)==null?void 0:k.licenseStatus)==="not_active"||c.value.payload===void 0?(_(),v(S,{key:0,color:"red"},{default:t(()=>[He]),_:1})):(_(),v(S,{key:1,color:"green"},{default:t(()=>[Ee]),_:1}))]}),_:1}),o(s,null,{default:t(()=>[o(h,{span:24},{default:t(()=>[o(Ge,{"user-data":i(n),"plugin-data":i(l),result:c.value},null,8,["user-data","plugin-data","result"])]),_:1}),o(h,{span:24,justify:"end"},{default:t(()=>[i(n).userDataSourceIsLoading.value===!1&&i(l).pluginDataSourceIsLoading.value===!1?(_(),v(r,{key:0,size:20,style:{width:"100%"},direction:"vertical"},{default:t(()=>[o(Ie,{userData:i(n),pluginData:i(l)},null,8,["userData","pluginData"]),o(xe)]),_:1})):T("",!0)]),_:1})]),_:1})]),_:1},8,["spinning"])}}});var We=z(Je,[["__scopeId","data-v-08f9cf77"]]);const Qe=document.querySelectorAll("[id^='app-']");for(const e of Qe){const a=e==null?void 0:e.dataset;ke(We,{nonce:a.nonce,apiLocation:a.apiLocation,install:a.install,code:a.code,tid:a.tid}).mount(e)}
